{% extends 'base.html' %}
{% comment %}
    context = {
        'form': form
    }
{% endcomment %}
{% block title %}
    Complete Profile
{% endblock %}

{% block content %}
    Welcome {{ user }}!
    <h1>Enter Following Information - </h1>
    <form method="post" action="{% url 'complete_profile' %}">
        {% csrf_token %}
        <table border="2" cellspacing="5" cellpadding="10">
            {{ form.as_table }}
        </table>
        <br>
        {# TODO: Frontend Check on Registration Number ISSUE #}
        <input id="id_self_declaration" type="checkbox" onchange="toggleSubmitButton();">
        <label for="id_self_declaration">
            I verify that information provided by me is best to my knowledge.
            If any discrepancy is found, I can be debarred from the event.
        </label>
        <br> <br>
        <button id="id_submit" type="submit" disabled="disabled"><h3>Submit</h3></button>
    </form>
{% endblock %}

{% block javascript %}
    <script>
        function toggleSubmitButton() {
            let checkBox = document.getElementById('id_self_declaration');
            if(checkBox.checked === true){
                document.getElementById("id_submit").removeAttribute("disabled");
            } else {
                document.getElementById("id_submit").setAttribute("disabled", "disabled");
            }
        }
    </script>
{% endblock %}